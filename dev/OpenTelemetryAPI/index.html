<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>OpenTelemetryAPI · OpenTelemetry.jl</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-YWC6SQHSVM"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-YWC6SQHSVM', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><script src="../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="OpenTelemetry.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">OpenTelemetry.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../tips/">Tips for Developers</a></li><li><a class="tocitem" href="../FAQ/">FAQ</a></li><li><span class="tocitem">Design</span><ul><li class="is-active"><a class="tocitem" href>OpenTelemetryAPI</a><ul class="internal"><li><a class="tocitem" href="#Context"><span>Context</span></a></li><li><a class="tocitem" href="#Propagators"><span>Propagators</span></a></li><li><a class="tocitem" href="#Trace"><span>Trace</span></a></li><li><a class="tocitem" href="#Metric"><span>Metric</span></a></li><li><a class="tocitem" href="#Logging"><span>Logging</span></a></li><li><a class="tocitem" href="#Misc"><span>Misc</span></a></li></ul></li><li><a class="tocitem" href="../OpenTelemetrySDK/">OpenTelemetrySDK</a></li><li><a class="tocitem" href="../OpenTelemetryExporterOtlpProtoGrpc/">OpenTelemetryExporterOtlpProtoGrpc</a></li><li><a class="tocitem" href="../OpenTelemetryExporterPrometheus/">OpenTelemetryExporterPrometheus</a></li><li><a class="tocitem" href="../OpenTelemetryProto/">OpenTelemetryProto</a></li><li><a class="tocitem" href="../OpenTelemetryInstrumentationBase/">OpenTelemetryInstrumentationBase</a></li><li><a class="tocitem" href="../OpenTelemetryInstrumentationDownloads/">OpenTelemetryInstrumentationDownloads</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Design</a></li><li class="is-active"><a href>OpenTelemetryAPI</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>OpenTelemetryAPI</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/master/docs/src/OpenTelemetryAPI.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="OpenTelemetryAPI"><a class="docs-heading-anchor" href="#OpenTelemetryAPI">OpenTelemetryAPI</a><a id="OpenTelemetryAPI-1"></a><a class="docs-heading-anchor-permalink" href="#OpenTelemetryAPI" title="Permalink"></a></h1><p>The content in this page is organized in the same order as the <a href="https://github.com/open-telemetry/opentelemetry-specification">OpenTelemetry Specification</a>.</p><h2 id="Context"><a class="docs-heading-anchor" href="#Context">Context</a><a id="Context-1"></a><a class="docs-heading-anchor-permalink" href="#Context" title="Permalink"></a></h2><p>All the <strong>MUST</strong> items in the original <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/context/context.md">specification</a> are implemented.</p><p><code>Context</code> is implemented as a wrapper of <code>NamedTuple</code>, which means it is immutable. Each <code>Task</code> has exactly <strong>ONE</strong> <code>Context</code> instance, which is injected into the <code>task_local_storage</code> of the <code>current_task</code> by the parent task automatically.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p><a href="https://docs.julialang.org/en/v1/manual/style-guide/#Avoid-type-piracy">Type piracy</a> is used to the propagate context between tasks. See more discussions in <a href="https://github.com/oolong-dev/OpenTelemetry.jl/issues/32">#32</a></p></div></div><p><code>create_key</code> is used to create a context key. But it is not exported yet because it seems to be only used internally until now.</p><p><code>Base.getindex(::Context, key)</code> is implemented so to get a value in a <code>Context</code>, one can simply call <code>ctx[key]</code> to get the associated value of a key in a <code>ctx</code>.</p><p>Setting value of a <code>Context</code> is not directly supported. Given that <code>Context</code> is immutable, updating an immutable object in Julia seems strange. We provide the <a href="#OpenTelemetryAPI.with_context-Tuple{Any, OpenTelemetryAPI.Context}"><code>with_context</code></a> function to create a new context based on the key-value pairs in the <a href="#OpenTelemetryAPI.current_context-Tuple{}"><code>current_context</code></a>. This syntax is more common than the attach/detach operations in the original specification.</p><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.current_context-Tuple{}" href="#OpenTelemetryAPI.current_context-Tuple{}"><code>OpenTelemetryAPI.current_context</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return the <code>Context</code> associated with the caller&#39;s current execution unit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/common/context.jl#L32-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.with_context-Tuple{Any, OpenTelemetryAPI.Context}" href="#OpenTelemetryAPI.with_context-Tuple{Any, OpenTelemetryAPI.Context}"><code>OpenTelemetryAPI.with_context</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">with_context(f, [context]; kv...)</code></pre><p>Run function <code>f</code> in the <code>context</code>. If extra <code>kv</code> pairs are provided, they will be merged with the <code>context</code> to form a new context. When <code>context</code> is not provided, the <a href="#OpenTelemetryAPI.current_context-Tuple{}"><code>current_context</code></a> will be used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/common/context.jl#L24-L28">source</a></section></article><h2 id="Propagators"><a class="docs-heading-anchor" href="#Propagators">Propagators</a><a id="Propagators-1"></a><a class="docs-heading-anchor-permalink" href="#Propagators" title="Permalink"></a></h2><p><a href="#OpenTelemetryAPI.inject!"><code>inject!</code></a> and <a href="#OpenTelemetryAPI.extract"><code>extract</code></a> are provided based on the original <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/context/api-propagators.md">specification</a>. However, <code>TextMapPropagator</code> is not implemented yet! Personally I feel that every propagator may depends on a third party package. To minimize the dependencies of <code>OpenTelemetryAPI.jl</code>, those specialized propagators can be registered as independent packages.</p><p>The <code>GLOBAL_PROPAGATOR</code> is set to a <code>CompositePropagator</code>, with multiple dispatch, each inner propagator can be customized to handle different contexts and carriers. Since it&#39;s mainly used internally for now, it&#39;s not exposed yet.</p><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.extract" href="#OpenTelemetryAPI.extract"><code>OpenTelemetryAPI.extract</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract(carrier, [global_propagator], [current_context])</code></pre><p>Extracts the value from an incoming request. For example, from the headers of an HTTP request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/propagator.jl#L33-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.inject!" href="#OpenTelemetryAPI.inject!"><code>OpenTelemetryAPI.inject!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">inject(carrier, [global_propagator], [current_context])</code></pre><p>Injects the value into a carrier. For example, into the headers of an HTTP request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/propagator.jl#L16-L20">source</a></section></article><h2 id="Trace"><a class="docs-heading-anchor" href="#Trace">Trace</a><a id="Trace-1"></a><a class="docs-heading-anchor-permalink" href="#Trace" title="Permalink"></a></h2><p>The relationship between trace provider, tracer, span context and span is depicted below:</p><pre><code class="nohighlight hljs">┌────────────────────────────┐
│ AbstractSpan               │
│   ┌──────────────────────┐ │
│   │ Tracer               │ │
│   │   ┌────────────────┐ │ │
│   │   │    Abstract    │ │ │
│   │   │ TracerProvider │ │ │
│   │   └────────────────┘ │ │
│   │  instrumentation     │ │
│   │   ┌────────────────┐ │ │
│   │   │ name           │ │ │
│   │   │ version        │ │ │
│   │   └────────────────┘ │ │
│   └──────────────────────┘ │
└────────────────────────────┘</code></pre><p>In <code>OpenTelemetryAPI.jl</code>, only one concrete <a href="#OpenTelemetryAPI.AbstractTracerProvider"><code>AbstractTracerProvider</code></a> (the <code>DummyTracerProvider</code>) is provided. It is set as the  default <a href="#OpenTelemetryAPI.global_tracer_provider-Tuple{}"><code>global_tracer_provider</code></a>. Without SDK installed, the <a href="#OpenTelemetryAPI.with_span"><code>with_span</code></a> will only create a <code>NonRecordingSpan</code>. This is to make the <code>OpenTelemetryAPI.jl</code> lightweight enough so that instrumentation package users can happily add it as a dependency without losing performance.</p><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.AbstractSpan" href="#OpenTelemetryAPI.AbstractSpan"><code>OpenTelemetryAPI.AbstractSpan</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Each concrete span should have the following interfaces implemented.</p><ul><li><a href="#OpenTelemetryAPI.tracer-Tuple{OpenTelemetryAPI.NonRecordingSpan}"><code>tracer</code></a></li><li><a href="#OpenTelemetryAPI.span_context-Tuple{}"><code>span_context</code></a></li><li><a href="#OpenTelemetryAPI.span_kind-Tuple{}"><code>span_kind</code></a></li><li><a href="#OpenTelemetryAPI.parent_span_context-Tuple{}"><code>parent_span_context</code></a></li><li><a href="#OpenTelemetryAPI.attributes-Tuple{OpenTelemetryAPI.NonRecordingSpan}"><code>attributes</code></a></li><li><a href="#OpenTelemetryAPI.is_recording-Tuple{}"><code>is_recording</code></a></li><li><a href="#OpenTelemetryAPI.start_time-Tuple{OpenTelemetryAPI.NonRecordingSpan}"><code>start_time</code></a></li><li><a href="#OpenTelemetryAPI.end_time-Tuple{OpenTelemetryAPI.NonRecordingSpan}"><code>end_time</code></a></li><li><a href="#OpenTelemetryAPI.end_span!-Tuple{}"><code>end_span!</code></a></li><li><a href="#OpenTelemetryAPI.span_status!-Tuple{SpanStatusCode, Any}"><code>span_status!</code></a></li><li><a href="#OpenTelemetryAPI.span_status-Tuple{}"><code>span_status</code></a></li><li><a href="#OpenTelemetryAPI.span_name!-Tuple{String}"><code>span_name!</code></a></li><li><a href="#OpenTelemetryAPI.span_name-Tuple{}"><code>span_name</code></a></li><li><a href="#OpenTelemetryAPI.span_links-Tuple{}"><code>span_links</code></a></li><li><a href="#OpenTelemetryAPI.span_events-Tuple{}"><code>span_events</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L67-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.AbstractTracerProvider" href="#OpenTelemetryAPI.AbstractTracerProvider"><code>OpenTelemetryAPI.AbstractTracerProvider</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A tracer provider is a part of an <a href="#OpenTelemetryAPI.Tracer"><code>Tracer</code></a>. For each concrete tracer provider, <code>resource</code> and <code>OpenTelemetryAPI.create_span(name::String, tracer::Tracer{&lt;:YourCustomProvider})</code> should also be implemented.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L22-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.Tracer" href="#OpenTelemetryAPI.Tracer"><code>OpenTelemetryAPI.Tracer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Tracer(name=&quot;Main&quot;, version=v&quot;0.0.1-dev&quot;;provider=global_tracer_provider())</code></pre><p>The <code>name</code> and <code>version</code> will form the <a href="#OpenTelemetryAPI.InstrumentationInfo"><code>InstrumentationInfo</code></a>. value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L57-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.end_span!-Tuple{}" href="#OpenTelemetryAPI.end_span!-Tuple{}"><code>OpenTelemetryAPI.end_span!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">end_span!([s=current_span()], [t=UInt(time()*10^9)])</code></pre><p>Set the end time of the span and trigger span processors. Note <code>t</code> is the nanoseconds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L230-L234">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.global_tracer_provider!-Tuple{Any}" href="#OpenTelemetryAPI.global_tracer_provider!-Tuple{Any}"><code>OpenTelemetryAPI.global_tracer_provider!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">global_tracer_provider!(p)</code></pre><p>Set the global tracer provider to <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L43-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.global_tracer_provider-Tuple{}" href="#OpenTelemetryAPI.global_tracer_provider-Tuple{}"><code>OpenTelemetryAPI.global_tracer_provider</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">global_tracer_provider()</code></pre><p>Get the global tracer provider.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L36-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.is_recording-Tuple{}" href="#OpenTelemetryAPI.is_recording-Tuple{}"><code>OpenTelemetryAPI.is_recording</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_recording([current_span()])</code></pre><p>Returns <code>true</code> if this span <code>s</code> is recording information like <a href="#OpenTelemetryAPI.Event"><code>Event</code></a> operations, attribute modification using <a href="#Base.setindex!-Tuple{AbstractSpan, Any, Any}"><code>setindex!</code></a>, etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L116-L120">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.parent_span_context-Tuple{}" href="#OpenTelemetryAPI.parent_span_context-Tuple{}"><code>OpenTelemetryAPI.parent_span_context</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parent_span_context(s::AbstractSpan)</code></pre><p>Get the <a href="#OpenTelemetryAPI.SpanContext"><code>SpanContext</code></a> from parent span.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L281-L285">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.provider-Tuple{AbstractSpan}" href="#OpenTelemetryAPI.provider-Tuple{AbstractSpan}"><code>OpenTelemetryAPI.provider</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">provider(s::AbstractSpan)</code></pre><p>Get the <a href="#OpenTelemetryAPI.AbstractTracerProvider"><code>AbstractTracerProvider</code></a> which generates the tracer that the span <code>s</code> resides in.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L101-L106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.resource-Tuple{AbstractSpan}" href="#OpenTelemetryAPI.resource-Tuple{AbstractSpan}"><code>OpenTelemetryAPI.resource</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">resource(s::AbstractSpan)</code></pre><p>Get the associated resource of the span <code>s</code>. Fall back to <code>resource(provider(::AbstractSpan))</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L109-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.span_context-Tuple{}" href="#OpenTelemetryAPI.span_context-Tuple{}"><code>OpenTelemetryAPI.span_context</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">span_context([s::AbstractSpan])</code></pre><p>Get the <a href="#OpenTelemetryAPI.SpanContext"><code>SpanContext</code></a> from a span <code>s</code>. If <code>s</code> is not specified, <a href="#OpenTelemetryAPI.current_span-Tuple{}"><code>current_span()</code></a> will be used. <code>nothing</code> is returned if no span context found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L262-L268">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.span_events-Tuple{}" href="#OpenTelemetryAPI.span_events-Tuple{}"><code>OpenTelemetryAPI.span_events</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">span_events(s::AbstractSpan)</code></pre><p>Get the recorded events in a span. A <a href="#OpenTelemetryAPI.Limited"><code>Limited</code></a> is expected.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L181-L185">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.span_kind-Tuple{}" href="#OpenTelemetryAPI.span_kind-Tuple{}"><code>OpenTelemetryAPI.span_kind</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">span_kind([current_span()])</code></pre><p>Return <a href="@ref"><code>SpanKind</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L273-L277">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.span_links-Tuple{}" href="#OpenTelemetryAPI.span_links-Tuple{}"><code>OpenTelemetryAPI.span_links</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">span_links(s::AbstractSpan)</code></pre><p>Get the recorded links in a span. A <a href="#OpenTelemetryAPI.Limited"><code>Limited</code></a> is expected.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L204-L208">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.span_name!-Tuple{String}" href="#OpenTelemetryAPI.span_name!-Tuple{String}"><code>OpenTelemetryAPI.span_name!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">span_name!([current_span()], name::String)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L254-L256">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.span_name-Tuple{}" href="#OpenTelemetryAPI.span_name-Tuple{}"><code>OpenTelemetryAPI.span_name</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">span_name([current_span()])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L248-L250">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.span_status!-Tuple{SpanStatusCode, Any}" href="#OpenTelemetryAPI.span_status!-Tuple{SpanStatusCode, Any}"><code>OpenTelemetryAPI.span_status!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">span_status!([current_span()], code::SpanStatusCode, description=nothing)</code></pre><p>Update the status of span <code>s</code> by following the original specification. <code>description</code> is only considered when the <code>code</code> is <code>SPAN_STATUS_ERROR</code>. Only valid when the span is not ended yet.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L212-L216">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.span_status-Tuple{}" href="#OpenTelemetryAPI.span_status-Tuple{}"><code>OpenTelemetryAPI.span_status</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">span_status([current_span()])</code></pre><p>Get status of the span. A <a href="@ref"><code>SpanStatusCode</code></a> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L222-L226">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.tracer-Tuple{OpenTelemetryAPI.NonRecordingSpan}" href="#OpenTelemetryAPI.tracer-Tuple{OpenTelemetryAPI.NonRecordingSpan}"><code>OpenTelemetryAPI.tracer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tracer(s::AbstractSpan)</code></pre><p>Get the <a href="#OpenTelemetryAPI.Tracer"><code>Tracer</code></a> which generates the span <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L94-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.with_span" href="#OpenTelemetryAPI.with_span"><code>OpenTelemetryAPI.with_span</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">with_span(f, name::String, [tracer=Tracer()];kw...)</code></pre><p>Call function <code>f</code> with the current span set a newly created one of <code>name</code> with <code>tracer</code>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>end_on_exit=true</code>, controls whether to call <a href="#OpenTelemetryAPI.end_span!-Tuple{}"><code>end_span!</code></a> after <code>f</code> or not.</li><li><code>record_exception=true</code>, controls whether to record the exception.</li><li><code>set_status_on_exception=true</code>, decides whether to set status to <a href="@ref"><code>SPAN_STATUS_ERROR</code></a> automatically when an exception is caught.</li><li>The rest keyword arguments are forwarded to <a href="#OpenTelemetryAPI.create_span-Tuple{String, Tracer{OpenTelemetryAPI.DummyTracerProvider}}"><code>create_span</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L309-L320">source</a></section></article><h2 id="Metric"><a class="docs-heading-anchor" href="#Metric">Metric</a><a id="Metric-1"></a><a class="docs-heading-anchor-permalink" href="#Metric" title="Permalink"></a></h2><p>The relationship between <code>MeterProvider</code>, <code>Meter</code> and different instruments are depicted below:</p><pre><code class="nohighlight hljs"> ┌─────────────────────────────┐
 │AbstractInstrument           │
 │                             │
 │  name                       │
 │  unit                       │
 │  description                │
 │                             │
 │  meter                      │
 │   ┌───────────────────────┐ │
 │   │Meter                  │ │
 │   │                       │ │
 │   │  provider             │ │
 │   │   ┌────────────────┐  │ │
 │   │   │   Abstract     │  │ │
 │   │   │ MeterProvider  │  │ │
 │   │   └────────────────┘  │ │
 │   │  name                 │ │
 │   │  version              │ │
 │   │  schema_url           │ │
 │   │                       │ │
 │   │  instrumentation      │ │
 │   │   ┌────────────────┐  │ │
 │   │   │ name           │  │ │
 │   │   │ version        │  │ │
 │   │   └────────────────┘  │ │
 │   │  instruments          │ │
 │   │                       │ │
 │   │    * Counter          │ │
 │   │    * Histogram        │ │
 │   │    * UpDownCounter    │ │
 │   │    * ObservableCounter│ │
 │   │    * Observable       │ │
 │   │      UpDownCounter    │ │
 │   └───────────────────────┘ │
 │                             │
 └─────────────────────────────┘</code></pre><ul><li>An <code>Instrument</code> belongs to a <code>Meter</code>, each <code>Meter</code> may contain many different <code>Instrument</code>s. Similarly, a <code>Meter</code> belongs to a <code>MeterProvider</code> and a <code>MeterProvider</code> may contain many different <code>Meter</code>s.</li></ul><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.AbstractInstrument" href="#OpenTelemetryAPI.AbstractInstrument"><code>OpenTelemetryAPI.AbstractInstrument</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>AbstractInstrument</code><code>is the super type of all instruments, which are used to report [</code>Measurement`](@ref)s.</p><p>See also <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/api.md#instrument">the specification</a>:</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/metric_provider.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.AbstractMeterProvider" href="#OpenTelemetryAPI.AbstractMeterProvider"><code>OpenTelemetryAPI.AbstractMeterProvider</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A meter provider defines how to collect and update <a href="#OpenTelemetryAPI.Measurement"><code>Measurement</code></a>s. Each meter provider should have the following interfaces implemented:</p><ul><li><code>Base.push!(provider, m::Meter)</code>, register a meter.</li><li><code>Base.push!(provider, ins::AbstractInstrument)</code>, register an instrument.</li><li><code>Base.push!(provider, (ins::AbstractInstrument, m::Measurement))</code>, update a measurement.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/metric_provider.jl#L4-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.Meter" href="#OpenTelemetryAPI.Meter"><code>OpenTelemetryAPI.Meter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Meter(name::String;kw...)</code></pre><p>Meter is responsible for creating instruments.</p><p><strong>Keyword Arguments:</strong></p><ul><li><code>provider::P = global_meter_provider()</code></li><li><code>version = v&quot;0.0.1-dev&quot;</code></li><li><code>schema_url = &quot;&quot;</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/metric_provider.jl#L41-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.global_meter_provider!-Tuple{Any}" href="#OpenTelemetryAPI.global_meter_provider!-Tuple{Any}"><code>OpenTelemetryAPI.global_meter_provider!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">global_meter_provider!(p)</code></pre><p>Set the global meter provider to <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/metric_provider.jl#L27-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.global_meter_provider-Tuple{}" href="#OpenTelemetryAPI.global_meter_provider-Tuple{}"><code>OpenTelemetryAPI.global_meter_provider</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">global_meter_provider()</code></pre><p>Get the global meter provider.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/metric_provider.jl#L20-L24">source</a></section></article><h3 id="Instruments"><a class="docs-heading-anchor" href="#Instruments">Instruments</a><a id="Instruments-1"></a><a class="docs-heading-anchor-permalink" href="#Instruments" title="Permalink"></a></h3><p>All instruments provided here can be classified into two categories: <a href="#OpenTelemetryAPI.AbstractSyncInstrument"><code>AbstractSyncInstrument</code></a> and <a href="#OpenTelemetryAPI.AbstractAsyncInstrument"><code>AbstractAsyncInstrument</code></a>.</p><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.AbstractAsyncInstrument" href="#OpenTelemetryAPI.AbstractAsyncInstrument"><code>OpenTelemetryAPI.AbstractAsyncInstrument</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Async instrument usually has a callback function (which is named <em>Observable</em> in OpenTelemetry) to get its measurement.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If the return of the callback function is not a <a href="#OpenTelemetryAPI.Measurement"><code>Measurement</code></a>, it will be converted into a <code>Measurement</code> with an empty <a href="#OpenTelemetryAPI.StaticAttrs"><code>StaticAttrs</code></a> implicitly when being uploaded to the associated meter provider.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/instruments.jl#L30-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.AbstractSyncInstrument" href="#OpenTelemetryAPI.AbstractSyncInstrument"><code>OpenTelemetryAPI.AbstractSyncInstrument</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Sync instrument usually pass its measurement immediately.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/instruments.jl#L25-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.Counter" href="#OpenTelemetryAPI.Counter"><code>OpenTelemetryAPI.Counter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Counter{T}(name, meter;unit=&quot;&quot;, description=&quot;&quot;) where T</code></pre><p><code>Counter</code> is a <a href="#OpenTelemetryAPI.AbstractSyncInstrument"><code>AbstractSyncInstrument</code></a> which supports non-negative increments.</p><p>See more details from <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/api.md#counter">the specification</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/instruments.jl#L67-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.Histogram" href="#OpenTelemetryAPI.Histogram"><code>OpenTelemetryAPI.Histogram</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Histogram{T}(name, meter; unit = &quot;&quot;, description = &quot;&quot;) where {T}</code></pre><p><code>Histogram</code><code>is</code>AbstractSyncInstrument` which can be used to report arbitrary values that are likely to be statistically meaningful. It is intended for statistics such as histograms, summaries, and percentile.</p><p>See more details from <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/api.md#histogram">the specification</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/instruments.jl#L123-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.Measurement" href="#OpenTelemetryAPI.Measurement"><code>OpenTelemetryAPI.Measurement</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Measurement(value, [attributes=StaticAttrs()])</code></pre><p>This is to follow <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/api.md#measurement">the specification</a></p><p>See also <a href="@ref">StaticAttrs</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/instruments.jl#L11-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.ObservableCounter" href="#OpenTelemetryAPI.ObservableCounter"><code>OpenTelemetryAPI.ObservableCounter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ObservableCounter{T}(callback, name, meter; unit = &quot;&quot;, description = &quot;&quot;) where {T}</code></pre><p><code>ObservableCounter</code> is an <a href="#OpenTelemetryAPI.AbstractAsyncInstrument"><code>AbstractAsyncInstrument</code></a> which reports monotonically increasing value(s) when the instrument is being observed.</p><p>See more details from <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/api.md#asynchronous-counter">the specification</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/instruments.jl#L96-L102">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.ObservableGauge" href="#OpenTelemetryAPI.ObservableGauge"><code>OpenTelemetryAPI.ObservableGauge</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ObservableGauge{T}(callback, name, meter; unit = &quot;&quot;, description = &quot;&quot;,) where {T}</code></pre><p><code>ObservableGauge</code> is an <a href="#OpenTelemetryAPI.AbstractAsyncInstrument"><code>AbstractAsyncInstrument</code></a> which reports non-additive value(s) (e.g. the room temperature - it makes no sense to report the temperature value from multiple rooms and sum them up) when the instrument is being observed.</p><p>See also the details from <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/api.md#asynchronous-gauge">the specification</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/instruments.jl#L143-L149">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.ObservableUpDownCounter" href="#OpenTelemetryAPI.ObservableUpDownCounter"><code>OpenTelemetryAPI.ObservableUpDownCounter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ObservableUpDownCounter{T}(callback, name, meter; unit = &quot;&quot;, description = &quot;&quot;) where {T}</code></pre><p><code>ObservableUpDownCounter</code> is an <a href="#OpenTelemetryAPI.AbstractAsyncInstrument"><code>AbstractAsyncInstrument</code></a> which reports additive value(s) (e.g. the process heap size - it makes sense to report the heap size from multiple processes and sum them up, so we get the total heap usage) when the instrument is being observed.</p><p>See more details from <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/api.md#asynchronous-updowncounter">the specification</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/instruments.jl#L190-L196">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.UpDownCounter" href="#OpenTelemetryAPI.UpDownCounter"><code>OpenTelemetryAPI.UpDownCounter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">UpDownCounter{T}(name, meter; unit = &quot;&quot;, description = &quot;&quot;) where {T}</code></pre><p><code>UpDownCounter</code> is a <a href="#OpenTelemetryAPI.AbstractSyncInstrument"><code>AbstractSyncInstrument</code></a> which supports increments and decrements.</p><p>See also the details from <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/api.md#updowncounter">the specification</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/metric/instruments.jl#L170-L176">source</a></section></article><h2 id="Logging"><a class="docs-heading-anchor" href="#Logging">Logging</a><a id="Logging-1"></a><a class="docs-heading-anchor-permalink" href="#Logging" title="Permalink"></a></h2><p>The idea is simple, a <a href="#OpenTelemetryAPI.OtelLogTransformer"><code>OtelLogTransformer</code></a> is provided to transform each logging message into a <a href="#OpenTelemetryAPI.LogRecord"><code>LogRecord</code></a>. To understand how to use it, users should be familiar with how <strong>TransformerLogger</strong> from <a href="https://github.com/JuliaLogging/LoggingExtras.jl#transformerlogger-transformer">LoggingExtras.jl</a> works.</p><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.LogRecord" href="#OpenTelemetryAPI.LogRecord"><code>OpenTelemetryAPI.LogRecord</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LogRecord(;kw...)</code></pre><p>A Julia representation of the <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/logs/data-model.md#log-and-event-record-definition">Log Data Model</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/log.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.OtelLogTransformer" href="#OpenTelemetryAPI.OtelLogTransformer"><code>OpenTelemetryAPI.OtelLogTransformer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OtelLogTransformer(resource::Resource)</code></pre><p>It can be used as a function <code>f</code> to the <a href="https://github.com/JuliaLogging/LoggingExtras.jl#transformerlogger-transformer"><code>TransformerLogger</code></a>. After applying this transformer, a <a href="#OpenTelemetryAPI.LogRecord"><code>LogRecord</code></a> will be returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/log.jl#L24-L29">source</a></section></article><h2 id="Misc"><a class="docs-heading-anchor" href="#Misc">Misc</a><a id="Misc-1"></a><a class="docs-heading-anchor-permalink" href="#Misc" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.TAttrVal" href="#OpenTelemetryAPI.TAttrVal"><code>OpenTelemetryAPI.TAttrVal</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Valid type of attribute value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/common/attributes.jl#L98-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.CompositePropagator" href="#OpenTelemetryAPI.CompositePropagator"><code>OpenTelemetryAPI.CompositePropagator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CompositePropagator(propagators::Vector)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/propagator.jl#L5-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.DynamicAttrs" href="#OpenTelemetryAPI.DynamicAttrs"><code>OpenTelemetryAPI.DynamicAttrs</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DynamicAttrs(attrs::Dict{String, TAttrVal};count_limit=128, value_length_limit=nothing)
DynamicAttrs(attrs::Pair{String, TAttrVal}...;count_limit=128, value_length_limit=nothing)</code></pre><p>Here we use a <code>Dict</code> internally to represent the mutable version of the <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/common/common.md#attributes"><code>Attributes</code></a> specification. If the <code>value_length_limit</code> is set to a positive int, the value of <code>String</code> or each element in a value of <code>Vector{String}</code> will be truncated to a maximum length of <code>value_length_limit</code>. By default we do not do the truncation. When adding new pairs into it, if the number of attributes exceeds the <code>count_limit</code>, it will be dropped. You can get the number of dropped pairs via <code>n_dropped</code>.</p><p>See also <a href="#OpenTelemetryAPI.StaticAttrs"><code>StaticAttrs</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/common/attributes.jl#L169-L176">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.Event" href="#OpenTelemetryAPI.Event"><code>OpenTelemetryAPI.Event</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Event(name, timestamp=time()*10^9, attributes=StaticAttrs())</code></pre><p><code>timestamp</code> is the <em>nanoseconds</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_basic.jl#L175-L179">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.InstrumentationInfo" href="#OpenTelemetryAPI.InstrumentationInfo"><code>OpenTelemetryAPI.InstrumentationInfo</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InstrumentationInfo(;name=&quot;Main&quot;, version=v&quot;0.0.1-dev&quot;)</code></pre><p>Usually used in an instrumentation package.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/common/misc.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.LimitInfo" href="#OpenTelemetryAPI.LimitInfo"><code>OpenTelemetryAPI.LimitInfo</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LimitInfo(;kw...)</code></pre><p>Used in <a href="@ref"><code>TracerProvider</code></a> to configure generated <a href="#OpenTelemetryAPI.Tracer"><code>Tracer</code></a>.</p><p><strong>Keyword arguments:</strong></p><ul><li><code>span_attribute_count_limit::Int</code> = 128</li><li><code>span_attribute_value_length_limit::Union{Nothing,Int}</code> = nothing</li><li><code>span_event_count_limit::Int</code> = 128</li><li><code>span_link_count_limit::Int</code> = 128</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_basic.jl#L146-L157">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.Limited" href="#OpenTelemetryAPI.Limited"><code>OpenTelemetryAPI.Limited</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Limited(container; limit=32)</code></pre><p>Create a container wrapper with limited elements. It supports the following common containers:</p><ul><li><code>AbstractDict</code>. If the length of the dict contains more elements than <code>limit</code>. Then <code>pop!</code> will be called repeatedly until the length is equal to <code>limit</code>. Further new key-value pair insertions will be ignored. If the key already exists in the dict, then the corresponding value will always be updated. <code>n_dropped</code> will return the number of dropped insertions.</li><li><code>AbstractVector</code>. Similar to <code>AbstractDict</code>.</li></ul><p>The following methods from <code>Base</code> are defined on <code>Limited</code> which are then forwarded to the inner <code>container</code>. Feel free to create a PR if you find any method you need is missing:</p><ul><li><code>Base.getindex</code></li><li><code>Base.setindex!</code></li><li><code>Base.iterate</code></li><li><code>Base.length</code></li><li><code>Base.haskey</code></li><li><code>Base.push!</code>. Only defined on containers of <code>AbstractVector</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/common/attributes.jl#L3-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.Link" href="#OpenTelemetryAPI.Link"><code>OpenTelemetryAPI.Link</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Link(span_context, attributes)</code></pre><p>See more details at <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/overview.md#links-between-spans">links between spans</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_basic.jl#L165-L169">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.Resource" href="#OpenTelemetryAPI.Resource"><code>OpenTelemetryAPI.Resource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Resource(;attributes=StaticAttrs(), schema_url=&quot;&quot;)</code></pre><p>Quoted from <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/overview.md#resources">the specification</a>:</p><blockquote><p>Resource captures information about the entity for which telemetry is recorded. For example, metrics exposed by a Kubernetes container can be linked to a resource that specifies the cluster, namespace, pod, and container name.</p><p>Resource may capture an entire hierarchy of entity identification. It may describe the host in the cloud and specific container or an application running in the process.</p></blockquote></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/common/misc.jl#L3-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.SpanContext" href="#OpenTelemetryAPI.SpanContext"><code>OpenTelemetryAPI.SpanContext</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SpanContext(;span_id, trace_id, is_remote, trace_flag=TraceFlag(), trace_state=TraceState())</code></pre><p>A <code>SpanContext</code> represents the portion of a <code>Span</code> which must be serialized and propagated along side of a distributed context. <code>SpanContext</code>s are immutable.</p><p>The OpenTelemetry <code>SpanContext</code> representation conforms to the <a href="https://www.w3.org/TR/trace-context/">W3C TraceContext specification</a>. It contains two identifiers - a <code>TraceId</code> and a <code>SpanId</code> - along with a set of common <code>TraceFlags</code> and system-specific <code>TraceState</code> values.</p><p><code>TraceId</code> A valid trace identifier is a 16-byte array with at least one non-zero byte.</p><p><code>SpanId</code> A valid span identifier is an 8-byte array with at least one non-zero byte.</p><p><code>TraceFlags</code> contain details about the trace. Unlike TraceState values, TraceFlags are present in all traces. The current version of the specification only supports a single flag called <a href="https://www.w3.org/TR/trace-context/#sampled-flag">sampled</a>.</p><p><code>TraceState</code> carries vendor-specific trace identification data, represented as a list of key-value pairs. TraceState allows multiple tracing systems to participate in the same trace. It is fully described in the <a href="https://www.w3.org/TR/trace-context/#tracestate-header">W3C Trace Context specification</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_basic.jl#L99-L124">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.SpanStatus" href="#OpenTelemetryAPI.SpanStatus"><code>OpenTelemetryAPI.SpanStatus</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SpanStatus(code, description=nothing)</code></pre><p>Possible codes are:</p><ul><li><code>SPAN_STATUS_UNSET</code></li><li><code>SPAN_STATUS_ERROR</code></li><li><code>SPAN_STATUS_OK</code></li></ul><p><code>description</code> is required when <code>code</code> is <code>SPAN_STATUS_ERROR</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_basic.jl#L193-L203">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.StaticAttrs" href="#OpenTelemetryAPI.StaticAttrs"><code>OpenTelemetryAPI.StaticAttrs</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">StaticAttrs(attrs::NamedTuple; value_length_limit=nothing)
StaticAttrs(attrs::Pair{String, TAttrVal}...; value_length_limit=nothing)
StaticAttrs(attrs::Pair{Symbol, TAttrVal}...; value_length_limit=nothing)</code></pre><p>Here we use the <code>NamedTuple</code> internally to efficiently represent the immutable version of the <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/common/common.md#attributes"><code>Attributes</code></a> in the specification. If the <code>value_length_limit</code> is set to a positive int, the value of <code>String</code> or each element in a value of <code>Vector{String}</code> will be truncated to a maximum length of it. By default we do not do the truncation.</p><p>See also <a href="#OpenTelemetryAPI.DynamicAttrs"><code>DynamicAttrs</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/common/attributes.jl#L119-L127">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.TraceState" href="#OpenTelemetryAPI.TraceState"><code>OpenTelemetryAPI.TraceState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TraceState(entries::Pair{String,String}...)</code></pre><p><code>TraceState</code> carries vendor-specific trace identification data, represented as a list of key-value pairs. <code>TraceState</code> allows multiple tracing systems to participate in the same trace. It is fully described in the <a href="https://www.w3.org/TR/trace-context/#tracestate-header">W3C Trace Context specification</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_basic.jl#L64-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.getindex-Tuple{AbstractSpan, Any}" href="#Base.getindex-Tuple{AbstractSpan, Any}"><code>Base.getindex</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.getindex(s::AbstractSpan, key)</code></pre><p>Look up <code>key</code> in the attributes of the span <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L152-L156">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.haskey-Tuple{AbstractSpan, Any}" href="#Base.haskey-Tuple{AbstractSpan, Any}"><code>Base.haskey</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.haskey(s::AbstractSpan, key)</code></pre><p>Check if the span <code>s</code> has the key in its attributes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L159-L163">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.push!-Tuple{Event}" href="#Base.push!-Tuple{Event}"><code>Base.push!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.push!([s::AbstractSpan], event::Event)</code></pre><p>Add an <a href="#OpenTelemetryAPI.Event"><code>Event</code></a> into the span <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L166-L170">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.push!-Tuple{Link}" href="#Base.push!-Tuple{Link}"><code>Base.push!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.push!([current_span()], link::Link)</code></pre><p>Add a <a href="#OpenTelemetryAPI.Link"><code>Link</code></a> into the span <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L189-L193">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.push!-Tuple{OpenTelemetryAPI.NonRecordingSpan, Exception}" href="#Base.push!-Tuple{OpenTelemetryAPI.NonRecordingSpan, Exception}"><code>Base.push!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.push!(s::AbstractSpan, ex::Exception; is_rethrow_followed = false)</code></pre><p>A specialized variant of <a href="#OpenTelemetryAPI.Event"><code>Event</code></a> to record exceptions. Usually used in a <code>try... catch...end</code> to capture the backtrace. If the <code>ex</code> is <code>rethrow</code>ed in the <code>catch...end</code>, <code>is_rethrow_followed</code> should be set to <code>true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L240-L244">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.setindex!-Tuple{AbstractSpan, Any, Any}" href="#Base.setindex!-Tuple{AbstractSpan, Any, Any}"><code>Base.setindex!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">(s::AbstractSpan)[key] = val</code></pre><p>Set the attributes in span <code>s</code>. Only valid when the span is not ended yet.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L145-L149">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.attributes-Tuple{OpenTelemetryAPI.NonRecordingSpan}" href="#OpenTelemetryAPI.attributes-Tuple{OpenTelemetryAPI.NonRecordingSpan}"><code>OpenTelemetryAPI.attributes</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">attributes(s::AbstractSpan)</code></pre><p>Return either <a href="#OpenTelemetryAPI.StaticAttrs"><code>StaticAttrs</code></a> or <a href="#OpenTelemetryAPI.DynamicAttrs"><code>DynamicAttrs</code></a> in the span <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L124-L128">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.create_span-Tuple{String, Tracer{OpenTelemetryAPI.DummyTracerProvider}}" href="#OpenTelemetryAPI.create_span-Tuple{String, Tracer{OpenTelemetryAPI.DummyTracerProvider}}"><code>OpenTelemetryAPI.create_span</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Here we follow the <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/api.md#behavior-of-the-api-in-the-absence-of-an-installed-sdk">Behavior of the API in the absence of an installed SDK</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L289-L291">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.current_span-Tuple{}" href="#OpenTelemetryAPI.current_span-Tuple{}"><code>OpenTelemetryAPI.current_span</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">current_span([current_context])</code></pre><p>Get the span in the current context.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_basic.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.end_time-Tuple{OpenTelemetryAPI.NonRecordingSpan}" href="#OpenTelemetryAPI.end_time-Tuple{OpenTelemetryAPI.NonRecordingSpan}"><code>OpenTelemetryAPI.end_time</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">end_time(s::AbstractSpan)</code></pre><p>Get the end time of span <code>s</code> in nanoseconds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L138-L142">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.n_dropped-Tuple{Limited}" href="#OpenTelemetryAPI.n_dropped-Tuple{Limited}"><code>OpenTelemetryAPI.n_dropped</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">n_dropped(x::Limited)</code></pre><p>Return the total number of dropped elements since creation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/common/attributes.jl#L44-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetryAPI.start_time-Tuple{OpenTelemetryAPI.NonRecordingSpan}" href="#OpenTelemetryAPI.start_time-Tuple{OpenTelemetryAPI.NonRecordingSpan}"><code>OpenTelemetryAPI.start_time</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">start_time(s::AbstractSpan)</code></pre><p>Get the start time of span <code>s</code> in nanoseconds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/3247c1c77a0862804fdd5ba8a3efbbcdb80fd518/src/api/src/trace/tracer_provider.jl#L131-L135">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../FAQ/">« FAQ</a><a class="docs-footer-nextpage" href="../OpenTelemetrySDK/">OpenTelemetrySDK »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Monday 14 February 2022 03:10">Monday 14 February 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
