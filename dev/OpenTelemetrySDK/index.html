<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>OpenTelemetrySDK · OpenTelemetry.jl</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-YWC6SQHSVM"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-YWC6SQHSVM', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><script src="../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="OpenTelemetry.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">OpenTelemetry.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../tips/">Tips for Developers</a></li><li><a class="tocitem" href="../FAQ/">FAQ</a></li><li><span class="tocitem">Design</span><ul><li><a class="tocitem" href="../OpenTelemetryAPI/">OpenTelemetryAPI</a></li><li class="is-active"><a class="tocitem" href>OpenTelemetrySDK</a><ul class="internal"><li><a class="tocitem" href="#Exporters"><span>Exporters</span></a></li><li><a class="tocitem" href="#Tracer"><span>Tracer</span></a></li><li><a class="tocitem" href="#Metric"><span>Metric</span></a></li><li><a class="tocitem" href="#Misc"><span>Misc</span></a></li></ul></li><li><a class="tocitem" href="../OpenTelemetryExporterOtlpProtoGrpc/">OpenTelemetryExporterOtlpProtoGrpc</a></li><li><a class="tocitem" href="../OpenTelemetryExporterPrometheus/">OpenTelemetryExporterPrometheus</a></li><li><a class="tocitem" href="../OpenTelemetryProto/">OpenTelemetryProto</a></li><li><a class="tocitem" href="../OpenTelemetryInstrumentationBase/">OpenTelemetryInstrumentationBase</a></li><li><a class="tocitem" href="../OpenTelemetryInstrumentationDownloads/">OpenTelemetryInstrumentationDownloads</a></li><li><a class="tocitem" href="../OpenTelemetryInstrumentationHTTP/">OpenTelemetryInstrumentationHTTP</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Design</a></li><li class="is-active"><a href>OpenTelemetrySDK</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>OpenTelemetrySDK</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/master/docs/src/OpenTelemetrySDK.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="OpenTelemetrySDK"><a class="docs-heading-anchor" href="#OpenTelemetrySDK">OpenTelemetrySDK</a><a id="OpenTelemetrySDK-1"></a><a class="docs-heading-anchor-permalink" href="#OpenTelemetrySDK" title="Permalink"></a></h1><h2 id="Exporters"><a class="docs-heading-anchor" href="#Exporters">Exporters</a><a id="Exporters-1"></a><a class="docs-heading-anchor-permalink" href="#Exporters" title="Permalink"></a></h2><p>Two common exporters are provided to for debugging:</p><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.AbstractExporter" href="#OpenTelemetrySDK.AbstractExporter"><code>OpenTelemetrySDK.AbstractExporter</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An <code>AbstractExporter</code> is to export a collection of <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.AbstractSpan"><code>AbstractSpan</code></a>s and (or) <a href="@ref"><code>Metric</code></a>s. Each method should have the following interfaces implemented:</p><ul><li><a href="#OpenTelemetrySDK.force_flush!-Tuple{TracerProvider}"><code>force_flush!(::AbstractExporter)</code></a></li><li><a href="#OpenTelemetrySDK.shut_down!-Tuple{TracerProvider}"><code>shut_down!(::AbstractExporter)</code></a></li><li><a href="@ref"><code>export!(::AbstractExporter, collection)</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/exporter.jl#L15-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.ConsoleExporter" href="#OpenTelemetrySDK.ConsoleExporter"><code>OpenTelemetrySDK.ConsoleExporter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ConsoleExporter(;io=stdout)</code></pre><p>Print an <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.AbstractSpan"><code>AbstractSpan</code></a> or <a href="@ref"><code>Metric</code></a> into <code>io</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/exporter.jl#L70-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.InMemoryExporter" href="#OpenTelemetrySDK.InMemoryExporter"><code>OpenTelemetrySDK.InMemoryExporter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InMemoryExporter(;pool=[], is_shut_down=Ref(false))</code></pre><p>Simply store all <code>export!</code>ed elements into the <code>pool</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/exporter.jl#L32-L36">source</a></section></article><h2 id="Tracer"><a class="docs-heading-anchor" href="#Tracer">Tracer</a><a id="Tracer-1"></a><a class="docs-heading-anchor-permalink" href="#Tracer" title="Permalink"></a></h2><h3 id="TracerProvider"><a class="docs-heading-anchor" href="#TracerProvider">TracerProvider</a><a id="TracerProvider-1"></a><a class="docs-heading-anchor-permalink" href="#TracerProvider" title="Permalink"></a></h3><p>In SDK, <a href="#OpenTelemetrySDK.TracerProvider"><code>TracerProvider</code></a> and <a href="@ref"><code>Span</code></a> are provided to replace the dummy ones in API. <code>Span</code> is not exported since we mainly use <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.with_span"><code>with_span</code></a> to create new spans.</p><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.TracerProvider" href="#OpenTelemetrySDK.TracerProvider"><code>OpenTelemetrySDK.TracerProvider</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TracerProvider(;kw...)</code></pre><p><strong>Keyword Arguments</strong></p><ul><li><code>sampler</code>::<a href="#OpenTelemetrySDK.AbstractSampler"><code>AbstractSampler</code></a>=<a href="#OpenTelemetrySDK.DEFAULT_ON"><code>DEFAULT_ON</code></a></li><li><code>resource</code>=<a href="../OpenTelemetryAPI/#OpenTelemetryAPI.Resource"><code>Resource</code></a>()</li><li><code>span_processor</code>::<a href="#OpenTelemetrySDK.AbstractSpanProcessor"><code>AbstractSpanProcessor</code></a>=<a href="#OpenTelemetrySDK.CompositSpanProcessor"><code>CompositSpanProcessor</code></a>()</li><li><code>id_generator</code>::<a href="#OpenTelemetrySDK.AbstractIdGenerator"><code>AbstractIdGenerator</code></a>=<a href="#OpenTelemetrySDK.RandomIdGenerator"><code>RandomIdGenerator</code></a>()</li><li><code>limit_info</code>=<a href="../OpenTelemetryAPI/#OpenTelemetryAPI.LimitInfo"><code>LimitInfo</code></a>()</li></ul><p>The following extra methods are provided beyond those defined in <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.AbstractTracerProvider"><code>AbstractTracerProvider</code></a>:</p><ul><li><a href="#OpenTelemetrySDK.force_flush!-Tuple{TracerProvider}"><code>force_flush!(p::TracerProvider)</code></a></li><li><a href="#OpenTelemetrySDK.shut_down!-Tuple{TracerProvider}"><code>shut_down!(p::TracerProvider)</code></a></li><li><a href="../OpenTelemetryAPI/#Base.push!-Tuple{Event}"><code>Base.push!(p::TracerProvider, sp::AbstractSpanProcessor)</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/trace_provider.jl#L3-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.force_flush!-Tuple{TracerProvider}" href="#OpenTelemetrySDK.force_flush!-Tuple{TracerProvider}"><code>OpenTelemetrySDK.force_flush!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">force_flush!(p::TracerProvider)</code></pre><p>Shorthand to force flush inner span processors</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/trace_provider.jl#L36-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.shut_down!-Tuple{TracerProvider}" href="#OpenTelemetrySDK.shut_down!-Tuple{TracerProvider}"><code>OpenTelemetrySDK.shut_down!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shut_down!(p::TracerProvider)</code></pre><p>Shut down inner span processors and then mark itself as shut down.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/trace_provider.jl#L43-L47">source</a></section></article><h3 id="ID-Generators"><a class="docs-heading-anchor" href="#ID-Generators">ID Generators</a><a id="ID-Generators-1"></a><a class="docs-heading-anchor-permalink" href="#ID-Generators" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.RandomIdGenerator" href="#OpenTelemetrySDK.RandomIdGenerator"><code>OpenTelemetrySDK.RandomIdGenerator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RandomIdGenerator(rng=Random.GLOBAL_RNG)</code></pre><p>Use the <code>rng</code> to generate a random trace id or span id.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/id_generator.jl#L13-L17">source</a></section></article><h3 id="Samplers"><a class="docs-heading-anchor" href="#Samplers">Samplers</a><a id="Samplers-1"></a><a class="docs-heading-anchor-permalink" href="#Samplers" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.ALWAYS_OFF" href="#OpenTelemetrySDK.ALWAYS_OFF"><code>OpenTelemetrySDK.ALWAYS_OFF</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Always drop the span.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/sampling.jl#L36-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.ALWAYS_ON" href="#OpenTelemetrySDK.ALWAYS_ON"><code>OpenTelemetrySDK.ALWAYS_ON</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Always sample the span.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/sampling.jl#L31-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.DEFAULT_OFF" href="#OpenTelemetrySDK.DEFAULT_OFF"><code>OpenTelemetrySDK.DEFAULT_OFF</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Sampler that respects its parent span&#39;s sampling decision, but otherwise never samples.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/sampling.jl#L156-L158">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.DEFAULT_ON" href="#OpenTelemetrySDK.DEFAULT_ON"><code>OpenTelemetrySDK.DEFAULT_ON</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Sampler that respects its parent span&#39;s sampling decision, but otherwise always samples.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/sampling.jl#L161-L163">source</a></section></article><h3 id="Span-Processors"><a class="docs-heading-anchor" href="#Span-Processors">Span Processors</a><a id="Span-Processors-1"></a><a class="docs-heading-anchor-permalink" href="#Span-Processors" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.AbstractSpanProcessor" href="#OpenTelemetrySDK.AbstractSpanProcessor"><code>OpenTelemetrySDK.AbstractSpanProcessor</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Each span processor must implement the following methods:</p><ul><li><a href="#OpenTelemetrySDK.on_start!-Tuple{SimpleSpanProcessor, Any}"><code>on_start!(span_processor::AbstractSpanProcessor, span::AbstractSpan)</code></a></li><li><a href="#OpenTelemetrySDK.on_end!-Tuple{SimpleSpanProcessor, Any}"><code>on_end!(span_processor::AbstractSpanProcessor, span::AbstractSpan)</code></a></li><li><a href="#OpenTelemetrySDK.shut_down!-Tuple{TracerProvider}"><code>shut_down!(span_processor::AbstractSpanProcessor)</code></a></li><li><a href="#OpenTelemetrySDK.force_flush!-Tuple{TracerProvider}"><code>force_flush!(span_processor::AbstractSpanProcessor)</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/span_processor.jl#L3-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.CompositSpanProcessor" href="#OpenTelemetrySDK.CompositSpanProcessor"><code>OpenTelemetrySDK.CompositSpanProcessor</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CompositSpanProcessor(processors...)</code></pre><p>A wrapper of different concrete span processors. Users can also <code>push!</code> new span processors into it after construction.</p><p>See also <a href="#OpenTelemetrySDK.SimpleSpanProcessor"><code>SimpleSpanProcessor</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/span_processor.jl#L13-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.SimpleSpanProcessor" href="#OpenTelemetrySDK.SimpleSpanProcessor"><code>OpenTelemetrySDK.SimpleSpanProcessor</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SimpleSpanProcessor(span_exporter)</code></pre><p>Export each span immediately when <a href="#OpenTelemetrySDK.on_end!-Tuple{SimpleSpanProcessor, Any}"><code>on_end!</code></a> is called on this processor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/span_processor.jl#L53-L57">source</a></section></article><h2 id="Metric"><a class="docs-heading-anchor" href="#Metric">Metric</a><a id="Metric-1"></a><a class="docs-heading-anchor-permalink" href="#Metric" title="Permalink"></a></h2><p>The current implementation of metrics in SDK is mainly inspired by the <a href="https://github.com/open-telemetry/opentelemetry-dotnet">dotnet sdk</a>.</p><pre><code class="nohighlight hljs">┌──────────────────────────────────────────┐
│MeterProvider                             │
│                                          │
│  meters                                  │
│  views                                   │
│                                          │
│  instrument_associated_metric_names      │
│    instrument =&gt;  Set{metric_name}       │
│                                          │
│  metrics                                 │
│    name =&gt; metric                        │
│    ┌───────────────────────────────────┐ │
│    │Metric                             │ │
│    │                                   │ │
│    │  name                             │ │
│    │  description                      │ │
│    │  criteria                         │ │
│    │  aggregation                      │ │
│    │    ┌──────────────────────────┐   │ │
│    │    │AggregationStore          │   │ │
│    │    │                          │   │ │
│    │    │  attributes =&gt; data_point│   │ │
│    │    │   ┌─────────────────┐    │   │ │
│    │    │   │AbstractDataPoint│    │   │ │
│    │    │   │                 │    │   │ │
│    │    │   │  value          │    │   │ │
│    │    │   │  start_time     │    │   │ │
│    │    │   │  end_time       │    │   │ │
│    │    │   │  exemplars      │    │   │ │
│    │    │   │ ┌────────────┐  │    │   │ │
│    │    │   │ │Exemplar    │  │    │   │ │
│    │    │   │ │            │  │    │   │ │
│    │    │   │ │ value      │  │    │   │ │
│    │    │   │ │ trace_id   │  │    │   │ │
│    │    │   │ │ span_id    │  │    │   │ │
│    │    │   │ └────────────┘  │    │   │ │
│    │    │   │                 │    │   │ │
│    │    │   └─────────────────┘    │   │ │
│    │    │                          │   │ │
│    │    └──────────────────────────┘   │ │
│    │                                   │ │
│    └───────────────────────────────────┘ │
│                                          │
└──────────────────────────────────────────┘</code></pre><p>A <a href="#OpenTelemetrySDK.View"><code>View</code></a> specifies which instruments are grouped together through <a href="@ref"><code>Criteria</code></a>. For each view, a <a href="@ref"><code>Metric</code></a> is created to store the <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.Measurement"><code>Measurement</code></a>s. Each metric may have many different dimensions configured by <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.StaticAttrs"><code>StaticAttrs</code></a> in a <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.Measurement"><code>Measurement</code></a>. For each dimension, we may also collect those <a href="#OpenTelemetrySDK.Exemplar"><code>Exemplar</code></a>s in the mean while.</p><h3 id="Design-decisions"><a class="docs-heading-anchor" href="#Design-decisions">Design decisions</a><a id="Design-decisions-1"></a><a class="docs-heading-anchor-permalink" href="#Design-decisions" title="Permalink"></a></h3><ul><li>For each registered instrument, we have stored the associated metrics configured by views into the <code>instrument_associated_metric_names</code> field. So that for each pair of <code>instrument =&gt; measurement</code>, we can quickly determine which metrics to update.</li><li>To make sure that measurements of the same attribute key-values but with different order can be updated in the same dimension in the <a href="@ref"><code>AggregationStore</code></a>, a design from <a href="https://github.com/open-telemetry/opentelemetry-dotnet/issues/2374">opentelemetry-dotnet#2374</a> is borrowed here.</li></ul><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.DROP" href="#OpenTelemetrySDK.DROP"><code>OpenTelemetrySDK.DROP</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>All measurement will be dropped.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/aggregation.jl#L326-L328">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.Exemplar" href="#OpenTelemetrySDK.Exemplar"><code>OpenTelemetrySDK.Exemplar</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Exemplar(;kw...)</code></pre><p>Exemplars are example data points for aggregated data. Read <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/sdk.md#exemplar">the specification</a> to understand its relation to trace and metric.</p><p><strong>Keyword arguments:</strong></p><ul><li><code>value</code></li><li><code>time_unix_nano</code></li><li><code>filtered_attributes</code>::<a href="../OpenTelemetryAPI/#OpenTelemetryAPI.StaticAttrs"><code>StaticAttrs</code></a>, extra attributes of a <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.Measurement"><code>Measurement</code></a> that are not included in a <a href="@ref"><code>Metric</code></a>&#39;s <code>:attribute_keys</code> field.</li><li><code>trace_id</code>, the <code>trace_id</code> in the span context when the measurement happens.</li><li><code>span_id</code>, the <code>span_id</code> in the span context when the measurement happens.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/aggregation.jl#L7-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.HistogramAgg" href="#OpenTelemetrySDK.HistogramAgg"><code>OpenTelemetrySDK.HistogramAgg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HistogramAgg(args...)</code></pre><p><strong>Arguments:</strong></p><ul><li><code>boundaries::NTuple{M, Float64} where M</code>, the boundaries to calculate histogram buckets. Note that <code>-Inf</code> and <code>Inf</code> shouldn&#39;t be included.</li><li><code>is_record_min</code></li><li><code>is_record_max</code></li><li><code>agg_store</code></li><li><code>exemplar_reservoir_factory</code>, when set to <code>nothing</code>, no exemplar will be stored.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/aggregation.jl#L266-L277">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.HistogramAgg-Union{Tuple{}, Tuple{T}} where T" href="#OpenTelemetrySDK.HistogramAgg-Union{Tuple{}, Tuple{T}} where T"><code>OpenTelemetrySDK.HistogramAgg</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">HistogramAgg{T}(;boundaries = DEFAULT_HISTOGRAM_BOUNDARIES, is_record_min = true, is_record_max = true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/aggregation.jl#L286-L288">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.LastValueAgg" href="#OpenTelemetrySDK.LastValueAgg"><code>OpenTelemetrySDK.LastValueAgg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LastValueAgg(agg_store::AggregationStore, exemplar_reservoir_factory)</code></pre><p>When <code>exemplar_reservoir_factory</code> set to <code>nothing</code>, no exemplar will be stored.</p><p>See more details in <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/sdk.md#last-value-aggregation">the specification</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/aggregation.jl#L188-L194">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.LastValueAgg-Union{Tuple{}, Tuple{T}} where T" href="#OpenTelemetrySDK.LastValueAgg-Union{Tuple{}, Tuple{T}} where T"><code>OpenTelemetrySDK.LastValueAgg</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">LastValueAgg{T}()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/aggregation.jl#L200-L202">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.SumAgg" href="#OpenTelemetrySDK.SumAgg"><code>OpenTelemetrySDK.SumAgg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SumAgg(agg_store::AggregationStore, exemplar_reservoir_factory)</code></pre><p>When <code>exemplar_reservoir_factory</code> set to <code>nothing</code>, no exemplar will be stored. See more details in <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/sdk.md#sum-aggregation">the specification</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/aggregation.jl#L161-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.SumAgg-Union{Tuple{}, Tuple{T}} where T" href="#OpenTelemetrySDK.SumAgg-Union{Tuple{}, Tuple{T}} where T"><code>OpenTelemetrySDK.SumAgg</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SumAgg{T}()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/aggregation.jl#L172-L174">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.MeterProvider-Tuple{}" href="#OpenTelemetrySDK.MeterProvider-Tuple{}"><code>OpenTelemetrySDK.MeterProvider</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">MeterProvider(;resource = Resource(), views = View[], n_max_metrics = N_MAX_METRICS)</code></pre><p>If <code>views</code> is empty, a default one (<a href="@ref"><code>View(;instrument_name=&quot;*&quot;</code></a>) will be added to enable all metrics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/meter_provider.jl#L64-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.View" href="#OpenTelemetrySDK.View"><code>OpenTelemetrySDK.View</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">View(name=nothing;kwargs...)</code></pre><p>The <code>name</code> support wildcard.</p><p>See more details in <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/sdk.md#view">the specification</a>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>description = nothing</code>,</li><li><code>attribute_keys = nothing</code>,</li><li><code>extra_dimensions = StaticAttrs()</code>,</li><li><code>aggregation = nothing</code>,</li><li><code>instrument_name = nothing</code>,</li><li><code>instrument_type = nothing</code>,</li><li><code>meter_name = nothing</code>,</li><li><code>meter_version = nothing</code>,</li><li><code>meter_schema_url = nothing</code>,</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/view.jl#L56-L74">source</a></section></article><h2 id="Misc"><a class="docs-heading-anchor" href="#Misc">Misc</a><a id="Misc-1"></a><a class="docs-heading-anchor-permalink" href="#Misc" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.AbstractIdGenerator" href="#OpenTelemetrySDK.AbstractIdGenerator"><code>OpenTelemetrySDK.AbstractIdGenerator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Customized id generators must implement the following two methods:</p><ul><li><code>generate_span_id(::AbstractIdGenerator)</code></li><li><code>generate_trace_id(::AbstractIdGenerator)</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/id_generator.jl#L5-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.AbstractMetricReader" href="#OpenTelemetrySDK.AbstractMetricReader"><code>OpenTelemetrySDK.AbstractMetricReader</code></a> — <span class="docstring-category">Type</span></header><section><div><p>All metric readers should implement <code>shut_down!(::AbstractMetricReader)</code> and <code>(r::AbstractMetricReader)()</code>.</p><p>Builtin readers:</p><ul><li><a href="@ref"><code>CompositMetricReader</code></a></li><li><a href="#OpenTelemetrySDK.MetricReader"><code>MetricReader</code></a></li><li><a href="#OpenTelemetrySDK.PeriodicMetricReader"><code>PeriodicMetricReader</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/metric_reader.jl#L3-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.AbstractSampler" href="#OpenTelemetrySDK.AbstractSampler"><code>OpenTelemetrySDK.AbstractSampler</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A sampler controls whether to drop a span or not when creating new spans in a certain context. Each sampler should have the <a href="#OpenTelemetrySDK.should_sample"><code>should_sample</code></a> method implemented.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/sampling.jl#L3-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.AggregationStore-Union{Tuple{}, Tuple{D}} where D&lt;:OpenTelemetrySDK.DataPoint" href="#OpenTelemetrySDK.AggregationStore-Union{Tuple{}, Tuple{D}} where D&lt;:OpenTelemetrySDK.DataPoint"><code>OpenTelemetrySDK.AggregationStore</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AggregationStore{D}(;kw...) where D&lt;:DataPoint</code></pre><p>The <code>AggregationStore</code> holds all the aggregated datapoints in a <a href="@ref"><code>Metric</code></a>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>n_max_points = N_MAX_POINTS_PER_METRIC</code>, the maximum number of data points.</li><li><code>n_max_attrs = 2 * N_MAX_POINTS_PER_METRIC</code>, the maximum number of allowed attributes. Note that each datapoint may have several attributes pointing to them. (Those attributes have the same key-value pair but with different order)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/aggregation.jl#L56-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.MetricReader" href="#OpenTelemetrySDK.MetricReader"><code>OpenTelemetrySDK.MetricReader</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MetricReader([global_meter_provider()], [ConsoleExporter()])</code></pre><p>Note that all metrics will be read on initialization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/metric_reader.jl#L35-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.MetricReader-Tuple{}" href="#OpenTelemetrySDK.MetricReader-Tuple{}"><code>OpenTelemetrySDK.MetricReader</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">(r::MetricReader)()</code></pre><p>For async instruments in <code>r</code>, their callbacks will be executed first before reading all the metrics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/metric_reader.jl#L57-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.PeriodicMetricReader" href="#OpenTelemetrySDK.PeriodicMetricReader"><code>OpenTelemetrySDK.PeriodicMetricReader</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PeriodicMetricReader(reader; export_interval_seconds = 60, export_timeout_seconds = 30)</code></pre><p>Periodically call the <code>reader</code> in the background.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/metric_reader.jl#L74-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.PeriodicMetricReader-Tuple{}" href="#OpenTelemetrySDK.PeriodicMetricReader-Tuple{}"><code>OpenTelemetrySDK.PeriodicMetricReader</code></a> — <span class="docstring-category">Method</span></header><section><div><p>For <code>PeriodicMetricReader</code>, there&#39;s no need to call this method since the read operation will be done periodically in the background.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/metric/metric_reader.jl#L104-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.push!-Tuple{AbstractSpanProcessor}" href="#Base.push!-Tuple{AbstractSpanProcessor}"><code>Base.push!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.push!([p::TracerProvider], sp::AbstractSpanProcessor)</code></pre><p>Add an extra span processor <code>sp</code> into the <a href="#OpenTelemetrySDK.TracerProvider"><code>TracerProvider</code></a> p.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/trace_provider.jl#L53-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.on_end!-Tuple{SimpleSpanProcessor, Any}" href="#OpenTelemetrySDK.on_end!-Tuple{SimpleSpanProcessor, Any}"><code>OpenTelemetrySDK.on_end!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">on_end!(ssp::SimpleSpanProcessor, span)</code></pre><p>The <code>span</code> is exported immediately if it is sampled.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/span_processor.jl#L67-L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.on_start!-Tuple{SimpleSpanProcessor, Any}" href="#OpenTelemetrySDK.on_start!-Tuple{SimpleSpanProcessor, Any}"><code>OpenTelemetrySDK.on_start!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">on_start!(ssp::SimpleSpanProcessor, span)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/span_processor.jl#L62-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OpenTelemetrySDK.should_sample" href="#OpenTelemetrySDK.should_sample"><code>OpenTelemetrySDK.should_sample</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">should_sample(s::AbstractSampler, args...)</code></pre><p><strong>Arguments</strong></p><ul><li><code>parent_context</code>::<a href="@ref"><code>Context</code></a>,</li><li><code>trace_id</code>::<a href="@ref"><code>TraceIdType</code></a>,</li><li><code>name::String</code>, the span name</li><li><code>kind</code>::<a href="@ref"><code>SpanKind</code></a>,</li><li><code>attributes</code>, <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.StaticAttrs"><code>StaticAttrs</code></a> or <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.DynamicAttrs"><code>DynamicAttrs</code></a></li><li><code>links</code>, vector of <a href="../OpenTelemetryAPI/#OpenTelemetryAPI.Link"><code>Link</code></a></li><li><code>trace_state</code>::<a href="../OpenTelemetryAPI/#OpenTelemetryAPI.TraceState"><code>TraceState</code></a>,</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oolong-dev/OpenTelemetry.jl/blob/b3e78597dd490413c6049dec60187d3e034de22a/src/sdk/src/trace/sampling.jl#L49-L61">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../OpenTelemetryAPI/">« OpenTelemetryAPI</a><a class="docs-footer-nextpage" href="../OpenTelemetryExporterOtlpProtoGrpc/">OpenTelemetryExporterOtlpProtoGrpc »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Tuesday 15 February 2022 10:00">Tuesday 15 February 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
